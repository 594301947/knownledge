在看本文之前，一定要有4次挥手的状态变迁图！

----



- FIN_WAIT_2

  > 被动关闭方不调用close，就不会向主动关闭方发送FIN，主动关闭方的状态将一直维持在FIN_WAIT_2！

---



- TIME_WAIT的作用与2MLS

  > 保证全双工连接的断开（害怕最后一个ACK丢失，如果丢失，在1MLS到时时，将会重发FIN）
  >
  > 让旧的数据包在网络中消失

  - 解决TIME_WAIT方案

    > 

---



- 双方同时调用close（就相当于第一个ACK丢失的情况），即：双方发送FIN

  > 先调用close的这一方，将从FIN_WAIT_1状态，进入closing状态

  

- 四次挥手变成了三次

  > 第一个ACK与第二个FIN一起发送